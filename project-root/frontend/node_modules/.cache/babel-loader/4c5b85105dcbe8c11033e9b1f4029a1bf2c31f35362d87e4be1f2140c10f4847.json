{"ast":null,"code":"// src/components/Screens/FormScreen.jsx\nimport React,{useState,useRef,useEffect}from'react';import IMask from'imask';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const initialState={fullName:'',phone:'',telegram:'',email:'',agreePolicy:false,agreeData:false,agreeAds:false};const FormScreen=_ref=>{let{onSubmit}=_ref;const[formData,setFormData]=useState(initialState);const[errors,setErrors]=useState({});const phoneInputRef=useRef(null);const maskRef=useRef(null);// Инициализация маски для телефона\nuseEffect(()=>{if(phoneInputRef.current){maskRef.current=IMask(phoneInputRef.current,{mask:'+7 (000) 000-00-00',lazy:true,placeholderChar:'_',overwrite:true,autofix:true});const handleFocus=()=>{if(!phoneInputRef.current.value){maskRef.current.updateOptions({placeholder:'+7 (___) ___-__-__'});}};const handleBlur=()=>{if(!phoneInputRef.current.value){maskRef.current.updateOptions({placeholder:''});}};phoneInputRef.current.addEventListener('focus',handleFocus);phoneInputRef.current.addEventListener('blur',handleBlur);return()=>{var _phoneInputRef$curren,_phoneInputRef$curren2,_maskRef$current;(_phoneInputRef$curren=phoneInputRef.current)===null||_phoneInputRef$curren===void 0?void 0:_phoneInputRef$curren.removeEventListener('focus',handleFocus);(_phoneInputRef$curren2=phoneInputRef.current)===null||_phoneInputRef$curren2===void 0?void 0:_phoneInputRef$curren2.removeEventListener('blur',handleBlur);(_maskRef$current=maskRef.current)===null||_maskRef$current===void 0?void 0:_maskRef$current.destroy();};}},[]);const handleChange=event=>{const{name,value,type,checked}=event.target;setFormData(prev=>({...prev,[name]:type==='checkbox'?checked:value}));setErrors(prev=>({...prev,[name]:undefined}));};const validate=()=>{const newErrors={};// Валидация ФИО (минимум 3 символа)\nif(!formData.fullName.trim()||formData.fullName.trim().length<3){newErrors.fullName='Поле обязательно для заполнения, введите не менее 3 символов';}// Валидация телефона (формат +7 (XXX) XXX-XX-XX)\nconst phoneRegex=/^\\+7\\s\\(\\d{3}\\)\\s\\d{3}-\\d{2}-\\d{2}$/;if(!formData.phone||!phoneRegex.test(formData.phone)){newErrors.phone='Поле обязательно для заполнения и должно быть в формате +7 (XXX) XXX-XX-XX';}// Валидация Telegram (если заполнено - минимум 3 символа)\nif(formData.telegram&&formData.telegram.trim().length<3){newErrors.telegram='Если вводите ник, он должен содержать не менее 3 символов';}// Валидация email\nconst emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(!formData.email||!emailRegex.test(formData.email)){newErrors.email='Поле обязательно для заполнения и должно иметь формат: example@domain.com';}// Валидация чекбоксов\nif(!formData.agreePolicy){newErrors.agreePolicy='Необходимо подтвердить ознакомление с политикой';}if(!formData.agreeData){newErrors.agreeData='Необходимо дать согласие на обработку данных';}return newErrors;};const handleSubmit=event=>{event.preventDefault();const validationErrors=validate();setErrors(validationErrors);if(Object.keys(validationErrors).length===0){onSubmit(formData);}};return/*#__PURE__*/_jsx(\"div\",{className:\"form-start\",id:\"form-start\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-start__container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-start__body\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"form-start__title\",children:\"\\u0422\\u0435\\u0441\\u0442 \\u041F\\u0430\\u0442\\u0442\\u0435\\u0440\\u043D\\u043E\\u0432\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"form-start__subtitle\",children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448\\u0438 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0434\\u043B\\u044F \\u043F\\u0440\\u043E\\u0445\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F \\u0442\\u0435\\u0441\\u0442\\u0430:\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-start__form\",onSubmit:handleSubmit,noValidate:true,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"fullName\",name:\"fullName\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0418\\u043C\\u044F \\u0438 \\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044E\",className:\"form-start__input\",value:formData.fullName,onChange:handleChange,required:true}),errors.fullName&&/*#__PURE__*/_jsx(\"div\",{id:\"error-message-fullname\",className:\"form-start__error\",style:{display:'block'},children:errors.fullName})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{ref:phoneInputRef,type:\"tel\",id:\"phone\",name:\"phone\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430\",className:\"form-start__input\",value:formData.phone,onChange:handleChange,required:true}),errors.phone&&/*#__PURE__*/_jsx(\"div\",{id:\"error-message-phone\",className:\"form-start__error\",style:{display:'block'},children:errors.phone})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"telegram-nickname\",name:\"telegram\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0438\\u043A \\u0432 Telegram\",className:\"form-start__input\",value:formData.telegram,onChange:handleChange}),errors.telegram&&/*#__PURE__*/_jsx(\"div\",{id:\"error-message-telegram\",className:\"form-start__error\",style:{display:'block'},children:errors.telegram})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u044D\\u043B\\u0435\\u043A\\u0442\\u0440\\u043E\\u043D\\u043D\\u0443\\u044E \\u043F\\u043E\\u0447\\u0442\\u0443\",className:\"form-start__input\",value:formData.email,onChange:handleChange,required:true}),errors.email&&/*#__PURE__*/_jsx(\"div\",{id:\"error-message-email\",className:\"form-start__error\",style:{display:'block'},children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-start__block-check\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-start__check\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"policy-read\",name:\"agreePolicy\",checked:formData.agreePolicy,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"policy-read\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"*\\u0421\",' ',/*#__PURE__*/_jsx(\"a\",{href:\"personal.html\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"\\u041F\\u043E\\u043B\\u0438\\u0442\\u0438\\u043A\\u043E\\u0439 \\u043E\\u0431\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0438 \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u043B\\u044C\\u043D\\u044B\\u0445 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"}),' ',\"\\u043E\\u0437\\u043D\\u0430\\u043A\\u043E\\u043C\\u043B\\u0435\\u043D (-\\u043D\\u0430).\"]})}),errors.agreePolicy&&/*#__PURE__*/_jsx(\"div\",{id:\"error-message-policy\",className:\"form-start__error error-check\",style:{display:'block'},children:errors.agreePolicy})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-start__check\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"data-consent\",name:\"agreeData\",checked:formData.agreeData,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"data-consent\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"*\\u0414\\u0430\\u044E \\u0441\\u043E\\u0433\\u043B\\u0430\\u0441\\u0438\\u0435 \\u043D\\u0430 \\u043E\\u0431\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0443 \\u0441\\u0432\\u043E\\u0438\\u0445 \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u043B\\u044C\\u043D\\u044B\\u0445 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u0432 \\u0441\\u043E\\u043E\\u0442\\u0432\\u0435\\u0442\\u0441\\u0442\\u0432\\u0438\\u0438 \\u0441\",' ',/*#__PURE__*/_jsx(\"a\",{href:\"personal.html\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"\\u041F\\u043E\\u043B\\u0438\\u0442\\u0438\\u043A\\u043E\\u0439 \\u043E\\u0431\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0438 \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u043B\\u044C\\u043D\\u044B\\u0445 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"}),\".\"]})}),errors.agreeData&&/*#__PURE__*/_jsx(\"div\",{id:\"error-message-consent\",className:\"form-start__error error-check\",style:{display:'block'},children:errors.agreeData})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-start__check\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"marketing-consent\",name:\"agreeAds\",checked:formData.agreeAds,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"marketing-consent\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u0414\\u0430\\u044E\",' ',/*#__PURE__*/_jsx(\"a\",{href:\"agreement.html\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"\\u0421\\u043E\\u0433\\u043B\\u0430\\u0441\\u0438\\u0435 \\u043D\\u0430 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u043E\\u043D\\u043D\\u044B\\u0445 \\u0438 \\u0440\\u0435\\u043A\\u043B\\u0430\\u043C\\u043D\\u044B\\u0445 \\u043C\\u0430\\u0442\\u0435\\u0440\\u0438\\u0430\\u043B\\u043E\\u0432\"}),\".\"]})})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",id:\"start-test-button\",className:\"patterns-button form-start__button\",children:\"\\u041F\\u0440\\u043E\\u0439\\u0442\\u0438 \\u0442\\u0435\\u0441\\u0442\"})]})]})})});};export default FormScreen;","map":{"version":3,"names":["React","useState","useRef","useEffect","IMask","jsx","_jsx","jsxs","_jsxs","initialState","fullName","phone","telegram","email","agreePolicy","agreeData","agreeAds","FormScreen","_ref","onSubmit","formData","setFormData","errors","setErrors","phoneInputRef","maskRef","current","mask","lazy","placeholderChar","overwrite","autofix","handleFocus","value","updateOptions","placeholder","handleBlur","addEventListener","_phoneInputRef$curren","_phoneInputRef$curren2","_maskRef$current","removeEventListener","destroy","handleChange","event","name","type","checked","target","prev","undefined","validate","newErrors","trim","length","phoneRegex","test","emailRegex","handleSubmit","preventDefault","validationErrors","Object","keys","className","id","children","noValidate","onChange","required","style","display","ref","htmlFor","href","rel"],"sources":["F:/web/ЗАКАЗЫ/АЙФОРДЖИ/project-pattern-test/project-root/frontend/src/components/Screens/FormScreen.jsx"],"sourcesContent":["// src/components/Screens/FormScreen.jsx\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport  IMask from 'imask';\r\n\r\nconst initialState = {\r\n  fullName: '',\r\n  phone: '',\r\n  telegram: '',\r\n  email: '',\r\n  agreePolicy: false,\r\n  agreeData: false,\r\n  agreeAds: false,\r\n};\r\n\r\nconst FormScreen = ({ onSubmit }) => {\r\n  const [formData, setFormData] = useState(initialState);\r\n  const [errors, setErrors] = useState({});\r\n  const phoneInputRef = useRef(null);\r\n  const maskRef = useRef(null);\r\n\r\n  // Инициализация маски для телефона\r\n  useEffect(() => {\r\n    if (phoneInputRef.current) {\r\n      maskRef.current = IMask(phoneInputRef.current, {\r\n        mask: '+7 (000) 000-00-00',\r\n        lazy: true,\r\n        placeholderChar: '_',\r\n        overwrite: true,\r\n        autofix: true,\r\n      });\r\n\r\n      const handleFocus = () => {\r\n        if (!phoneInputRef.current.value) {\r\n          maskRef.current.updateOptions({ placeholder: '+7 (___) ___-__-__' });\r\n        }\r\n      };\r\n\r\n      const handleBlur = () => {\r\n        if (!phoneInputRef.current.value) {\r\n          maskRef.current.updateOptions({ placeholder: '' });\r\n        }\r\n      };\r\n\r\n      phoneInputRef.current.addEventListener('focus', handleFocus);\r\n      phoneInputRef.current.addEventListener('blur', handleBlur);\r\n\r\n      return () => {\r\n        phoneInputRef.current?.removeEventListener('focus', handleFocus);\r\n        phoneInputRef.current?.removeEventListener('blur', handleBlur);\r\n        maskRef.current?.destroy();\r\n      };\r\n    }\r\n  }, []);\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value, type, checked } = event.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: type === 'checkbox' ? checked : value,\r\n    }));\r\n    setErrors((prev) => ({ ...prev, [name]: undefined }));\r\n  };\r\n\r\n  const validate = () => {\r\n    const newErrors = {};\r\n\r\n    // Валидация ФИО (минимум 3 символа)\r\n    if (!formData.fullName.trim() || formData.fullName.trim().length < 3) {\r\n      newErrors.fullName = 'Поле обязательно для заполнения, введите не менее 3 символов';\r\n    }\r\n\r\n    // Валидация телефона (формат +7 (XXX) XXX-XX-XX)\r\n    const phoneRegex = /^\\+7\\s\\(\\d{3}\\)\\s\\d{3}-\\d{2}-\\d{2}$/;\r\n    if (!formData.phone || !phoneRegex.test(formData.phone)) {\r\n      newErrors.phone = 'Поле обязательно для заполнения и должно быть в формате +7 (XXX) XXX-XX-XX';\r\n    }\r\n\r\n    // Валидация Telegram (если заполнено - минимум 3 символа)\r\n    if (formData.telegram && formData.telegram.trim().length < 3) {\r\n      newErrors.telegram = 'Если вводите ник, он должен содержать не менее 3 символов';\r\n    }\r\n\r\n    // Валидация email\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!formData.email || !emailRegex.test(formData.email)) {\r\n      newErrors.email = 'Поле обязательно для заполнения и должно иметь формат: example@domain.com';\r\n    }\r\n\r\n    // Валидация чекбоксов\r\n    if (!formData.agreePolicy) {\r\n      newErrors.agreePolicy = 'Необходимо подтвердить ознакомление с политикой';\r\n    }\r\n    if (!formData.agreeData) {\r\n      newErrors.agreeData = 'Необходимо дать согласие на обработку данных';\r\n    }\r\n\r\n    return newErrors;\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const validationErrors = validate();\r\n    setErrors(validationErrors);\r\n\r\n    if (Object.keys(validationErrors).length === 0) {\r\n      onSubmit(formData);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-start\" id=\"form-start\">\r\n      <div className=\"form-start__container\">\r\n        <div className=\"form-start__body\">\r\n          <h2 className=\"form-start__title\">Тест Паттернов</h2>\r\n          <h2 className=\"form-start__subtitle\">Введите ваши данные для прохождения теста:</h2>\r\n\r\n          <form className=\"form-start__form\" onSubmit={handleSubmit} noValidate>\r\n            {/* ФИО */}\r\n            <div>\r\n              <input\r\n                type=\"text\"\r\n                id=\"fullName\"\r\n                name=\"fullName\"\r\n                placeholder=\"Введите Имя и Фамилию\"\r\n                className=\"form-start__input\"\r\n                value={formData.fullName}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n              {errors.fullName && (\r\n                <div id=\"error-message-fullname\" className=\"form-start__error\" style={{ display: 'block' }}>\r\n                  {errors.fullName}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Телефон */}\r\n            <div>\r\n              <input\r\n                ref={phoneInputRef}\r\n                type=\"tel\"\r\n                id=\"phone\"\r\n                name=\"phone\"\r\n                placeholder=\"Введите номер телефона\"\r\n                className=\"form-start__input\"\r\n                value={formData.phone}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n              {errors.phone && (\r\n                <div id=\"error-message-phone\" className=\"form-start__error\" style={{ display: 'block' }}>\r\n                  {errors.phone}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Ник в Telegram */}\r\n            <div>\r\n              <input\r\n                type=\"text\"\r\n                id=\"telegram-nickname\"\r\n                name=\"telegram\"\r\n                placeholder=\"Введите ник в Telegram\"\r\n                className=\"form-start__input\"\r\n                value={formData.telegram}\r\n                onChange={handleChange}\r\n              />\r\n              {errors.telegram && (\r\n                <div id=\"error-message-telegram\" className=\"form-start__error\" style={{ display: 'block' }}>\r\n                  {errors.telegram}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Электронная почта */}\r\n            <div>\r\n              <input\r\n                type=\"email\"\r\n                id=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"Введите электронную почту\"\r\n                className=\"form-start__input\"\r\n                value={formData.email}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n              {errors.email && (\r\n                <div id=\"error-message-email\" className=\"form-start__error\" style={{ display: 'block' }}>\r\n                  {errors.email}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Блок согласия */}\r\n            <div className=\"form-start__block-check\">\r\n              <div className=\"form-start__check\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"policy-read\"\r\n                  name=\"agreePolicy\"\r\n                  checked={formData.agreePolicy}\r\n                  onChange={handleChange}\r\n                />\r\n                <label htmlFor=\"policy-read\">\r\n                  <span>\r\n                    *С{' '}\r\n                    <a href=\"personal.html\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                      Политикой обработки персональных данных\r\n                    </a>{' '}\r\n                    ознакомлен (-на).\r\n                  </span>\r\n                </label>\r\n                {errors.agreePolicy && (\r\n                  <div id=\"error-message-policy\" className=\"form-start__error error-check\" style={{ display: 'block' }}>\r\n                    {errors.agreePolicy}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"form-start__check\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"data-consent\"\r\n                  name=\"agreeData\"\r\n                  checked={formData.agreeData}\r\n                  onChange={handleChange}\r\n                />\r\n                <label htmlFor=\"data-consent\">\r\n                  <span>\r\n                    *Даю согласие на обработку своих персональных данных в соответствии с{' '}\r\n                    <a href=\"personal.html\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                      Политикой обработки персональных данных\r\n                    </a>\r\n                    .\r\n                  </span>\r\n                </label>\r\n                {errors.agreeData && (\r\n                  <div id=\"error-message-consent\" className=\"form-start__error error-check\" style={{ display: 'block' }}>\r\n                    {errors.agreeData}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"form-start__check\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"marketing-consent\"\r\n                  name=\"agreeAds\"\r\n                  checked={formData.agreeAds}\r\n                  onChange={handleChange}\r\n                />\r\n                <label htmlFor=\"marketing-consent\">\r\n                  <span>\r\n                    Даю{' '}\r\n                    <a href=\"agreement.html\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                      Согласие на получение информационных и рекламных материалов\r\n                    </a>.\r\n                  </span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n\r\n            <button type=\"submit\" id=\"start-test-button\" className=\"patterns-button form-start__button\">\r\n              Пройти тест\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}