{"ast":null,"code":"// src/components/Sections/ResultsSections/ResultsHeader.jsx\nimport React,{useEffect}from'react';import{downloadPDF}from'../../../utils/pdf/pdfmakeGenerator';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ResultsHeader=_ref=>{let{loading,showSuccess,setShowSuccess,resultsData}=_ref;// Сохраняем resultsData в window, чтобы Playwright мог его достать\nuseEffect(()=>{if(resultsData){window._resultsData=resultsData;console.log(\"✅ resultsData сохранён в window._resultsData\");}},[resultsData]);const handleDownloadPDF=()=>{if(loading)return;console.log(\"resultsData для PDF:\",resultsData);downloadPDF(resultsData);setShowSuccess(true);};return/*#__PURE__*/_jsx(\"div\",{className:\"result-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"result-header__container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"result-header__body\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"result-header__subtitle\",children:\"\\u0421\\u043F\\u0430\\u0441\\u0438\\u0431\\u043E \\u0437\\u0430 \\u0432\\u0430\\u0448\\u0435 \\u0443\\u0447\\u0430\\u0441\\u0442\\u0438\\u0435 \\u0432 \\u0442\\u0435\\u0441\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0438!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"result-header__text\",children:\"\\u0412\\u044B \\u0441\\u0434\\u0435\\u043B\\u0430\\u043B\\u0438 \\u0432\\u0430\\u0436\\u043D\\u044B\\u0439 \\u0448\\u0430\\u0433 \\u043A \\u043E\\u0441\\u043E\\u0437\\u043D\\u0430\\u043D\\u0438\\u044E \\u0441\\u0432\\u043E\\u0438\\u0445 \\u043F\\u0440\\u0438\\u0432\\u044B\\u0447\\u043D\\u044B\\u0445 \\u043C\\u043E\\u0434\\u0435\\u043B\\u0435\\u0439 \\u0440\\u0435\\u0430\\u0433\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F \\u0438 \\u043F\\u043E\\u0432\\u0435\\u0434\\u0435\\u043D\\u0438\\u044F. \\u041F\\u043E\\u043D\\u0438\\u043C\\u0430\\u043D\\u0438\\u0435 \\u0441\\u0432\\u043E\\u0438\\u0445 \\u043F\\u0430\\u0442\\u0442\\u0435\\u0440\\u043D\\u043E\\u0432 \\u043F\\u043E\\u043C\\u043E\\u0433\\u0430\\u0435\\u0442 \\u043B\\u0443\\u0447\\u0448\\u0435 \\u043F\\u043E\\u043D\\u044F\\u0442\\u044C, \\u043A\\u0430\\u043A \\u0432\\u044B \\u0432\\u0437\\u0430\\u0438\\u043C\\u043E\\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0443\\u0435\\u0442\\u0435 \\u0441 \\u043E\\u043A\\u0440\\u0443\\u0436\\u0430\\u044E\\u0449\\u0438\\u043C \\u043C\\u0438\\u0440\\u043E\\u043C, \\u0438 \\u043F\\u043E\\u0437\\u0432\\u043E\\u043B\\u044F\\u0435\\u0442 \\u043D\\u0430\\u0445\\u043E\\u0434\\u0438\\u0442\\u044C \\u0431\\u0430\\u043B\\u0430\\u043D\\u0441 \\u043C\\u0435\\u0436\\u0434\\u0443 \\u043B\\u0438\\u0447\\u043D\\u044B\\u043C\\u0438 \\u043F\\u043E\\u0442\\u0440\\u0435\\u0431\\u043D\\u043E\\u0441\\u0442\\u044F\\u043C\\u0438 \\u0438 \\u0432\\u043D\\u0435\\u0448\\u043D\\u0438\\u043C\\u0438 \\u0432\\u044B\\u0437\\u043E\\u0432\\u0430\\u043C\\u0438. \\u0418\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u0443\\u0439\\u0442\\u0435 \\u044D\\u0442\\u0443 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044E \\u0434\\u043B\\u044F \\u0440\\u0430\\u0437\\u0432\\u0438\\u0442\\u0438\\u044F \\u0441\\u0432\\u043E\\u0438\\u0445 \\u0441\\u0438\\u043B\\u044C\\u043D\\u044B\\u0445 \\u0441\\u0442\\u043E\\u0440\\u043E\\u043D \\u0438 \\u044D\\u0444\\u0444\\u0435\\u043A\\u0442\\u0438\\u0432\\u043D\\u043E\\u0433\\u043E \\u043F\\u0440\\u0435\\u043E\\u0434\\u043E\\u043B\\u0435\\u043D\\u0438\\u044F \\u0432\\u043E\\u0437\\u043C\\u043E\\u0436\\u043D\\u044B\\u0445 \\u043E\\u0433\\u0440\\u0430\\u043D\\u0438\\u0447\\u0435\\u043D\\u0438\\u0439. \\u041A\\u0430\\u0436\\u0434\\u044B\\u0439 \\u043F\\u0430\\u0442\\u0442\\u0435\\u0440\\u043D \\u2013 \\u044D\\u0442\\u043E \\u0432\\u0430\\u0448 \\u0440\\u0435\\u0441\\u0443\\u0440\\u0441, \\u043A\\u043E\\u0442\\u043E\\u0440\\u044B\\u0439 \\u043C\\u043E\\u0436\\u0435\\u0442 \\u0431\\u044B\\u0442\\u044C \\u043D\\u0430\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D \\u0432 \\u043D\\u0443\\u0436\\u043D\\u043E\\u0435 \\u0432\\u0430\\u043C \\u0440\\u0443\\u0441\\u043B\\u043E.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-header__download download\",children:[loading&&/*#__PURE__*/_jsx(\"div\",{className:\"download__loader  loader\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loader__overlay\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loader__spinner\"}),/*#__PURE__*/_jsx(\"p\",{id:\"loader__text\",children:\"\\u041F\\u043E\\u0434\\u043E\\u0436\\u0434\\u0438\\u0442\\u0435, \\u0438\\u0434\\u0435\\u0442 \\u0433\\u0435\\u043D\\u0435\\u0440\\u0430\\u0446\\u0438\\u044F PDF...\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"download__title\",children:\"\\u0421\\u043A\\u0430\\u0447\\u0430\\u0442\\u044C \\u0432\\u0430\\u0448 \\u043E\\u0442\\u0447\\u0435\\u0442 \\u0432 \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442\\u0435 pdf\"}),/*#__PURE__*/_jsx(\"button\",{className:\"patterns-button patterns-button-download\",onClick:handleDownloadPDF,disabled:loading,children:\"\\u0421\\u043A\\u0430\\u0447\\u0430\\u0442\\u044C PDF\"}),showSuccess&&/*#__PURE__*/_jsx(\"div\",{id:\"successModal\",className:\"result-header__modal modal-result-header\",style:{display:'block'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-result-header__content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"modal-result-header__close-btn\",onClick:()=>setShowSuccess(false),children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0424\\u0430\\u0439\\u043B \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0441\\u043A\\u0430\\u0447\\u0430\\u043D!\"})]})})]})]})})});};export default ResultsHeader;","map":{"version":3,"names":["React","useEffect","downloadPDF","jsx","_jsx","jsxs","_jsxs","ResultsHeader","_ref","loading","showSuccess","setShowSuccess","resultsData","window","_resultsData","console","log","handleDownloadPDF","className","children","id","onClick","disabled","style","display"],"sources":["F:/web/ЗАКАЗЫ/АЙФОРДЖИ/project-pattern-test/project-root/frontend/src/components/Sections/ResultsSections/ResultsHeader.jsx"],"sourcesContent":["// src/components/Sections/ResultsSections/ResultsHeader.jsx\r\n\r\nimport React, { useEffect } from 'react';\r\nimport { downloadPDF } from '../../../utils/pdf/pdfmakeGenerator';\r\n\r\nconst ResultsHeader = ({ loading, showSuccess, setShowSuccess, resultsData }) => {\r\n\r\n    // Сохраняем resultsData в window, чтобы Playwright мог его достать\r\n    useEffect(() => {\r\n        if (resultsData) {\r\n            window._resultsData = resultsData;\r\n            console.log(\"✅ resultsData сохранён в window._resultsData\");\r\n        }\r\n    }, [resultsData]);\r\n\r\n    const handleDownloadPDF = () => {\r\n        if (loading) return;\r\n        console.log(\"resultsData для PDF:\", resultsData);\r\n        downloadPDF(resultsData);\r\n        setShowSuccess(true);\r\n    };\r\n\r\n\treturn (\r\n\t\t<div className=\"result-header\">\r\n\t\t\t<div className=\"result-header__container\">\r\n\t\t\t\t<div className=\"result-header__body\">\r\n\t\t\t\t\t<h2 className=\"result-header__subtitle\">Спасибо за ваше участие в тестировании!</h2>\r\n\t\t\t\t\t<div className=\"result-header__text\">\r\n\t\t\t\t\t\tВы сделали важный шаг к осознанию своих привычных моделей реагирования и поведения. Понимание своих паттернов помогает лучше понять, как вы\r\n\t\t\t\t\t\tвзаимодействуете с окружающим миром, и позволяет находить баланс между личными потребностями и внешними вызовами. Используйте эту информацию\r\n\t\t\t\t\t\tдля развития своих сильных сторон и эффективного преодоления возможных ограничений. Каждый паттерн – это ваш ресурс, который может быть\r\n\t\t\t\t\t\tнаправлен в нужное вам русло.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"result-header__download download\">\r\n\t\t\t\t\t\t{loading && (\r\n\t\t\t\t\t\t\t<div className=\"download__loader  loader\">\r\n\t\t\t\t\t\t\t\t<div className=\"loader__overlay\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"loader__spinner\"></div>\r\n\t\t\t\t\t\t\t\t\t<p id=\"loader__text\">Подождите, идет генерация PDF...</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<div className=\"download__title\">Скачать ваш отчет в формате pdf</div>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"patterns-button patterns-button-download\"\r\n\t\t\t\t\t\t\tonClick={handleDownloadPDF}\r\n\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tСкачать PDF\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t{showSuccess && (\r\n\t\t\t\t\t\t\t<div id=\"successModal\" className=\"result-header__modal modal-result-header\" style={{ display: 'block' }}>\r\n\t\t\t\t\t\t\t\t<div className=\"modal-result-header__content\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"modal-result-header__close-btn\" onClick={() => setShowSuccess(false)}>\r\n\t\t\t\t\t\t\t\t\t\t&times;\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<p>Файл успешно скачан!</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ResultsHeader;"],"mappings":"AAAA;AAEA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,KAAQ,qCAAqC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElE,KAAM,CAAAC,aAAa,CAAGC,IAAA,EAA2D,IAA1D,CAAEC,OAAO,CAAEC,WAAW,CAAEC,cAAc,CAAEC,WAAY,CAAC,CAAAJ,IAAA,CAExE;AACAP,SAAS,CAAC,IAAM,CACZ,GAAIW,WAAW,CAAE,CACbC,MAAM,CAACC,YAAY,CAAGF,WAAW,CACjCG,OAAO,CAACC,GAAG,CAAC,8CAA8C,CAAC,CAC/D,CACJ,CAAC,CAAE,CAACJ,WAAW,CAAC,CAAC,CAEjB,KAAM,CAAAK,iBAAiB,CAAGA,CAAA,GAAM,CAC5B,GAAIR,OAAO,CAAE,OACbM,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAEJ,WAAW,CAAC,CAChDV,WAAW,CAACU,WAAW,CAAC,CACxBD,cAAc,CAAC,IAAI,CAAC,CACxB,CAAC,CAEJ,mBACCP,IAAA,QAAKc,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC7Bf,IAAA,QAAKc,SAAS,CAAC,0BAA0B,CAAAC,QAAA,cACxCb,KAAA,QAAKY,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eACnCf,IAAA,OAAIc,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,8MAAuC,CAAI,CAAC,cACpFf,IAAA,QAAKc,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,uyEAKrC,CAAK,CAAC,cACNb,KAAA,QAAKY,SAAS,CAAC,kCAAkC,CAAAC,QAAA,EAC/CV,OAAO,eACPL,IAAA,QAAKc,SAAS,CAAC,0BAA0B,CAAAC,QAAA,cACxCb,KAAA,QAAKY,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC/Bf,IAAA,QAAKc,SAAS,CAAC,iBAAiB,CAAM,CAAC,cACvCd,IAAA,MAAGgB,EAAE,CAAC,cAAc,CAAAD,QAAA,CAAC,gJAAgC,CAAG,CAAC,EACrD,CAAC,CACF,CACL,cAEDf,IAAA,QAAKc,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,oJAA+B,CAAK,CAAC,cACtEf,IAAA,WACCc,SAAS,CAAC,0CAA0C,CACpDG,OAAO,CAAEJ,iBAAkB,CAC3BK,QAAQ,CAAEb,OAAQ,CAAAU,QAAA,CAClB,gDAED,CAAQ,CAAC,CACRT,WAAW,eACXN,IAAA,QAAKgB,EAAE,CAAC,cAAc,CAACF,SAAS,CAAC,0CAA0C,CAACK,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAQ,CAAE,CAAAL,QAAA,cACvGb,KAAA,QAAKY,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC5Cf,IAAA,SAAMc,SAAS,CAAC,gCAAgC,CAACG,OAAO,CAAEA,CAAA,GAAMV,cAAc,CAAC,KAAK,CAAE,CAAAQ,QAAA,CAAC,MAEvF,CAAM,CAAC,cACPf,IAAA,MAAAe,QAAA,CAAG,2GAAoB,CAAG,CAAC,EACvB,CAAC,CACF,CACL,EACG,CAAC,EACF,CAAC,CACF,CAAC,CACF,CAAC,CAER,CAAC,CAED,cAAe,CAAAZ,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}